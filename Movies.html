<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
</head>
<body>
</body>
<script src="tmdb.js"</script>
<script src="http://www.w3schools.com/jquery/jquery.js"></script>
<script type="text/javascript" src="https://rawgit.com/LayJS/dist/master/LAY.js"></script>

<script>

    /*{
    "poster_path":"\/xiosOeLfzPbfLfqui41kSWnO0sZ.jpg",
    "adult":false,
    "overview":"Driven by tragedy, billionaire Bruce Wayne dedicates his life to uncovering and defeating the corruption that plagues his home, Gotham City.  Unable to work within the system, he instead creates a new identity, a symbol of fear for the criminal underworld - The Batman.",
    "release_date":"2005-06-14",
    "genre_ids":[28,80,18],
    "id":272,
    "original_title":"Batman Begins",
    "original_language":"en",
    "title":"Batman Begins",
    "backdrop_path":"\/65JWXDCAfwHhJKnDwRnEgVB411X.jpg",
    "popularity":6.336201,
    "vote_count":3960,
    "video":false,
    "vote_average":7.28
    }*/
    /*
    {"adult":false,
    "backdrop_path":"/my81Hjt7NpZhaMX9bHi4wVhFy0v.jpg",
    "belongs_to_collection":{"id":135179,"name":"Sin City Collection","poster_path":"/aGgHxGVmjssn7lw1ZucY5U2gI8K.jpg","backdrop_path":"/qs200GlvLNIQKUns6AIeLcJWtPT.jpg"},
    "budget":40000000,
    "genres":[{"id":28,"name":"Action"},{"id":53,"name":"Thriller"},{"id":80,"name":"Crime"}],
    "homepage":"http://hd24hr.blogspot.com/2014/08/sin-city.html",
    "id":187,
    "imdb_id":"tt0401792",
    "original_language":"en",
    "original_title":"Sin City",
    "overview":"Sin City is a neo-noir crime thriller based on Frank Miller's graphic novel series of the same name.The film is primarily based on three of Miller's works: The Hard Goodbye, about a man who embarks on a brutal rampage in search of his one-time sweetheart's killer; The Big Fat Kill, which focuses on a street war between a group of prostitutes and a group of mercenaries; and That Yellow Bastard, which follows an aging police officer who protects a young woman from a grotesquely disfigured serial killer.","popularity":4.037361,"poster_path":"/eCJkepVJslq1nEtqURLaC1zLPAL.jpg","production_companies":[{"name":"Dimension Films","id":7405},{"name":"Troublemaker Studios","id":10807}],"production_countries":[{"iso_3166_1":"US","name":"United States of America"}],"release_date":"2005-03-31","revenue":158733820,"runtime":124,"spoken_languages":[{"iso_639_1":"en","name":"English"}],"status":"Released","tagline":"Walk down the right back alley in Sin City and you can find anything...",
    "title":"Sin City",
    "video":false,
    "vote_average":7.1,
    "vote_count":1363}
    */
    /*
    {"id":24,"
    cast":[{"cast_id":3,"character":"Beatrix 'The Bride' Kiddo","credit_id":"52fe4210c3a36847f800104d","id":139,"name":"Uma Thurman","order":0,"profile_path":"/ehbw2Qwxp2o0BVAZtJZ3yHZ1jNn.jpg"},{"cast_id":4,"character":"O-Ren Ishii","credit_id":"52fe4210c3a36847f8001051","id":140,"name":"Lucy Liu","order":1,"profile_path":"/cOSycUPBNi49YcPHo4Rf7ROHqCC.jpg"},{"cast_id":10,"character":"Vernita Green","credit_id":"52fe4210c3a36847f800106d","id":2535,"name":"Vivica A. Fox","order":2,"profile_path":"/uxTOzgRhk0VkbK1ZiOrQSTYuzAl.jpg"},{"cast_id":9,"character":"Elle Driver","credit_id":"52fe4210c3a36847f8001069","id":589,"name":"Daryl Hannah","order":3,"profile_path":"/ekNHIbvMUa9MkLUmWMY9V3lmRqy.jpg"},{"cast_id":5,"character":"Bill","credit_id":"52fe4210c3a36847f8001055","id":141,"name":"David Carradine","order":4,"profile_path":"/wCvrY9PUKtN6NwkmLHWLJivCCov.jpg"},{"cast_id":12,"character":"Gogo Yubari","credit_id":"52fe4210c3a36847f8001075","id":2538,"name":"Chiaki Kuriyama","order":5,"profile_path":"/ccaYcabNnxA4MPItZdKAMdqEqTk.jpg"},{"cast_id":14,"character":"Sofie Fatale","credit_id":"52fe4210c3a36847f800107d","id":2539,"name":"Julie Dreyfus","order":6,"profile_path":"/vkUvcV6oFkZXcIv4SGeW66LUoqC.jpg"},{"cast_id":6,"character":"Budd","credit_id":"52fe4210c3a36847f8001059","id":147,"name":"Michael Madsen","order":7,"profile_path":"/yPvagJYARJb0JAeAbCFdcXcaPs2.jpg"},{"cast_id":13,"character":"Hattori Hanzo","credit_id":"52fe4210c3a36847f8001079","id":2537,"name":"Sonny Chiba","order":8,"profile_path":"/9VduIlJK3bujNX0Gv0WvZ2cFxrK.jpg"},{"cast_id":35,"character":"Johnny Mo","credit_id":"52fe4210c3a36847f80010c3","id":240171,"name":"Gordon Liu Chia-Hui","order":9,"profile_path":"/yTI36A27P9YdFbzrCwjpmEpDGbR.jpg"},{"cast_id":38,"character":"Buck","credit_id":"53adbe460e0a265986002691","id":2234,"name":"Michael Bowen","order":10,"profile_path":"/xGNcy5uCe0Ke5vqC7oZlOV3GGDx.jpg"},{"cast_id":11,"character":"Earl McGraw","credit_id":"52fe4210c3a36847f8001071","id":2536,"name":"Michael Parks","order":11,"profile_path":"/54P22YwbYCwfjJWT1jbiHN77TD.jpg"},{"cast_id":39,"character":"Edgar McGraw","credit_id":"53adbf1f0e0a26597500281c","id":87312,"name":"James Parks","order":12,"profile_path":"/lzdbAVS3ABK8k6xGpYHU8E02OAA.jpg"},{"cast_id":30,"character":"Charlie Brown","credit_id":"52fe4210c3a36847f80010af","id":58616,"name":"Sakichi Satô","order":13,"profile_path":"/s3slnuF2U18zAPJi0yovdzZPIQF.jpg"},{"cast_id":25,"character":"Nikki Bell","credit_id":"52fe4210c3a36847f80010a5","id":4026,"name":"Ambrosia Kelley","order":14,"profile_path":"/8y5vikbwYbNcBfWt1hIjrgwEYYN.jpg"},{"cast_id":40,"character":"Tanaka","credit_id":"53e23f3a0e0a262b9100123a","id":2541,"name":"Jun Kunimura","order":15,"profile_path":"/zMf3lIodQvte4VDnCBnuG9ZEx72.jpg"},{"cast_id":56,"character":"Boss Ozawah","credit_id":"5475b93bc3a36859b90018da","id":2544,"name":"Akaji Maro","order":16,"profile_path":"/b28JIJMTwtVPiuz6TtOiFh5gNzs.jpg"},{"cast_id":57,"character":"Boss Honda","credit_id":"5475b970c3a368364c0028ad","id":1369182,"name":"Goro Daimon","order":17,"profile_path":"/yQoWRjwZqhx0vuzi64dbwOi4Vrq.jpg"},{"cast_id":58,"character":"Boss Benta","credit_id":"5475b98bc3a368364c0028b6","id":9193,"name":"Shun Sugata","order":18,"profile_path":"/9Ntziepdp2P2xsLGHdy0rchVJ3G.jpg"},{"cast_id":59,"character":"Boss Orgami","credit_id":"5475b9cfc3a3684df2000487","id":1389612,"name":"Zhang Jin Zhan","order":19,"profile_path":null},{"cast_id":84,"character":"The 5, 6, 7, 8's","credit_id":"5475dc2992514166ba0009b1","id":1314989,"name":"Sachiko Fujii","order":20,"profile_path":null},{"cast_id":85,"character":"Crazy 88","credit_id":"5475dc75c3a368764e000ff3","id":2542,"name":"Kazuki Kitamura","order":21,"profile_path":"/2DefK5vG0JquPJ1UdcckaPRcy96.jpg"},{"cast_id":86,"character":"Crazy 88","credit_id":"5475dc8d92514152730028f1","id":115659,"name":"Yôji Tanaka","order":22,"profile_path":"/xPpE9vinviRqjewLsnMQ5X5Dx9B.jpg"},{"cast_id":87,"character":"Crazy 88","credit_id":"5475dca29251412c3b004666","id":115657,"name":"Issei Takahashi","order":23,"profile_path":"/aq7c4wCLkOq0ZoLPxiavBobfbMu.jpg"},{"cast_id":88,"character":"Crazy 88","credit_id":"5475dcb7c3a368364c002e02","id":121751,"name":"Sô Yamanaka","order":24,"profile_path":null},{"cast_id":110,"character":"Bald Guy (Sushi Shop)","credit_id":"56a3c840c3a368389b003892","id":138435,"name":"Kenji Ohba","order":25,"profile_path":"/sCfIdPSIInpdUUloStzm6dlIXd1.jpg"},{"cast_id":111,"character":"Proprietor","credit_id":"56a3c8c09251417214003464","id":545394,"name":"Yuki Kazamatsuri","order":26,"profile_path":"/bw87KBOvS9qAe7mCK6jtE3Mzbpk.jpg"},{"cast_id":112,"character":"Trucker","credit_id":"56a3c90d9251417202003831","id":58477,"name":"Jonathan Loughran","order":27,"profile_path":"/glLP2I4fY5VCcfvMzuZROH3PuPe.jpg"},{"cast_id":113,"character":"Tokyo Business Man","credit_id":"56a3c9c2925141720200384d","id":79458,"name":"Yoshiyuki Morishita","order":28,"profile_path":"/hyNoYizzKfCAelJhi0aCCARrsnK.jpg"},{"cast_id":114,"character":"Okinawa Airline Ticket Agent","credit_id":"56a3cabf925141720b0036dd","id":209417,"name":"Shu Lan Tuan","order":29,"profile_path":null},{"cast_id":115,"character":"O-Ren (anime sequence) (voice)","credit_id":"56a3cb01925141720b0036e3","id":31082,"name":"Ai Maeda","order":30,"profile_path":"/2GbGAFBU5AjHRh1iZL6R3M1J8TL.jpg"},{"cast_id":116,"character":"Boss Matsumoto (anime sequence) (voice)","credit_id":"56a3cb27c3a368389e0035d7","id":1243811,"name":"Naomi Kusumi","order":31,"profile_path":null},{"cast_id":117,"character":"Pretty Riki (anime sequence) (voice)","credit_id":"56a3cb6ac3a36838960037a3","id":122726,"name":"Hikaru Midorikawa","order":32,"profile_path":"/67LlDJlFDeIrZlI4o6IM23fG7Tr.jpg"},{"cast_id":118,"character":"The Groom (uncredited)","credit_id":"56a3cb989251417207003857","id":6446,"name":"Christopher Allen Nelson","order":33,"profile_path":"/pbXe8gRR81onTWMPrOwrNZaqIoS.jpg"},{"cast_id":119,"character":"Tim (uncredited)","credit_id":"56a3cbbdc3a36838a300324c","id":65908,"name":"Stevo Polyi","order":34,"profile_path":null}],"crew":[{"credit_id":"534ba0150e0a2640c8002f33","department":"Costume & Make-Up","id":1309945,"job":"Costume Design","name":"Kumiko Ogawa","profile_path":null},{"credit_id":"534ba02a0e0a2640bc002a28","department":"Costume & Make-Up","id":50462,"job":"Costume Design","name":"Catherine Marie Thomas","profile_path":null},{"credit_id":"52fe4210c3a36847f8001049","department":"Directing","id":138,"job":"Director","name":"Quentin Tarantino","profile_path":"/6grjDWpEIPL5QdRbUZFxVEp5TCd.jpg"},{"credit_id":"52fe4210c3a36847f800105f","department":"Camera","id":149,"job":"Director of Photography","name":"Robert Richardson","profile_path":"/7G3fK147n8EdVMgLcLoO30Nj4Ik.jpg"},{"credit_id":"52fe4210c3a36847f8001065","department":"Editing","id":156,"job":"Editor","name":"Sally Menke","profile_path":"/8cUdiGU7KhBgd8UNnoUYNCMZYgQ.jpg"},{"credit_id":"52fe4210c3a36847f800108f","department":"Production","id":2545,"job":"Producer","name":"Lawrence Bender","profile_path":"/5EzlP8qdCYQrhqEYB2MTmY74KFB.jpg"},{"credit_id":"52fe4210c3a36847f8001095","department":"Production","id":3685,"job":"Casting","name":"Koko Maeda","profile_path":null},{"credit_id":"52fe4210c3a36847f800109b","department":"Production","id":3686,"job":"Casting","name":"Johanna Ray","profile_path":null},{"credit_id":"52fe4210c3a36847f80010a1","department":"Sound","id":3687,"job":"Sound Designer","name":"Harry Cohen","profile_path":null},{"credit_id":"52fe4210c3a36847f80010ab","department":"Writing","id":138,"job":"Writer","name":"Quentin Tarantino","profile_path":"/6grjDWpEIPL5QdRbUZFxVEp5TCd.jpg"},{"credit_id":"5475b591c3a3683012000739","department":"Art","id":6444,"job":"Production Design","name":"Yohei Taneda","profile_path":null},{"credit_id":"5475b5a69251414f1900083c","department":"Art","id":5779,"job":"Production Design","name":"David Wasco","profile_path":null},{"credit_id":"5475b5bd92514160e30035b8","department":"Art","id":61076,"job":"Art Direction","name":"Daniel Bradford","profile_path":null},{"credit_id":"5475b5d3c3a3684df20003fb","department":"Art","id":551534,"job":"Art Direction","name":"Juiping Cao","profile_path":null},{"credit_id":"5475b5e4925141527300239c","department":"Art","id":1389607,"job":"Art Direction","name":"Hidefumi Hanatani","profile_path":null},{"credit_id":"5475b5f7c3a3683012000754","department":"Art","id":1389608,"job":"Art Direction","name":"Lu Yo Lui","profile_path":null},{"credit_id":"5475b60a92514166ba00042d","department":"Art","id":90505,"job":"Art Direction","name":"Minoru Nishida","profile_path":null},{"credit_id":"5475b62bc3a3686ba1002299","department":"Art","id":17117,"job":"Set Decoration","name":"Yoshihito Akatsuka","profile_path":null},{"credit_id":"5475b642c3a368764e000a1f","department":"Art","id":11801,"job":"Set Decoration","name":"Sandy Reynolds-Wasco","profile_path":null},{"credit_id":"5475b663c3a368764e000a2a","department":"Costume & Make-Up","id":1389609,"job":"Makeup Department Head","name":"Heba Thorisdottir","profile_path":null},{"credit_id":"5475b6b792514152730023bb","department":"Art","id":1389610,"job":"Set Designer","name":"Peter Davidson","profile_path":null},{"credit_id":"5475b6d7c3a368764e000a3c","department":"Art","id":1172442,"job":"Set Designer","name":"Mary Saisselin","profile_path":null},{"credit_id":"5475b6f0c3a368364c002855","department":"Art","id":551822,"job":"Set Designer","name":"Takashi Sasaki","profile_path":null},{"credit_id":"5475b719c3a368301200077c","department":"Art","id":1389611,"job":"Art Department Coordinator","name":"Gretchen Engel","profile_path":null},{"credit_id":"5475ba2bc3a3686ba100232d","department":"Editing","id":1352966,"job":"Dialogue Editor","name":"Michael Hertlein","profile_path":null},{"credit_id":"5475ba439251412c3b00412a","department":"Editing","id":1389613,"job":"Dialogue Editor","name":"Katrina Siegmund","profile_path":null},{"credit_id":"5475ba599251414f190008da","department":"Editing","id":1342658,"job":"Dialogue Editor","name":"Frederick H. Stahly","profile_path":null},{"credit_id":"5475ba8892514166ba0004c8","department":"Sound","id":1389614,"job":"Sound Designer","name":"Peter Michael Sullivan","profile_path":null},{"credit_id":"5475bab6925141407a0018e7","department":"Sound","id":548439,"job":"Foley","name":"James Moriana","profile_path":null},{"credit_id":"5475bacec3a368301200080c","department":"Sound","id":548445,"job":"Foley","name":"Jeffrey Wilhoit","profile_path":null},{"credit_id":"5475baefc3a36859b900192f","department":"Sound","id":1352969,"job":"Supervising Sound Editor","name":"Wylie Stateman","profile_path":null},{"credit_id":"5475bb2492514166ba0004f1","department":"Sound","id":3193,"job":"Supervising Sound Editor","name":"Scott Martin Gershin","profile_path":null},{"credit_id":"5475bb53c3a3687cfe001ddd","department":"Crew","id":16498,"job":"Special Effects Coordinator","name":"John C. Hartigan","profile_path":null},{"credit_id":"5475bb81c3a36859b9001958","department":"Crew","id":1389616,"job":"Special Effects Coordinator","name":"Corey Pritchett","profile_path":null},{"credit_id":"5475bbb892514144d5002bc1","department":"Visual Effects","id":1085258,"job":"Visual Effects Supervisor","name":"Frankie Chung","profile_path":null},{"credit_id":"5475bbfbc3a3686ba1002366","department":"Visual Effects","id":1389620,"job":"Visual Effects Supervisor","name":"Tommy Tom","profile_path":null},{"credit_id":"5475bc25925141017d00015f","department":"Crew","id":1389621,"job":"Stunt Coordinator","name":"Keith Adams","profile_path":null},{"credit_id":"5475bc55c3a368764e000b29","department":"Camera","id":1386920,"job":"Still Photographer","name":"Andrew Cooper","profile_path":null},{"credit_id":"5475bc919251414f19000949","department":"Camera","id":983118,"job":"Steadicam Operator","name":"Larry McConkey","profile_path":null},{"credit_id":"5475bcb8c3a36859b9001993","department":"Costume & Make-Up","id":1389623,"job":"Costume Supervisor","name":"Daniel Grant North","profile_path":null},{"credit_id":"5475bcea92514152730024a4","department":"Costume & Make-Up","id":1387259,"job":"Set Costumer","name":"Kanani Wolf","profile_path":null},{"credit_id":"5475bd0b925141407a00195c","department":"Sound","id":1389624,"job":"Music Editor","name":"Jay B. Richardson","profile_path":null},{"credit_id":"5475bd259251412c3b0041b7","department":"Crew","id":1389625,"job":"Transportation Coordinator","name":"Derek Raser","profile_path":null},{"credit_id":"5475bd4b925141407a00196f","department":"Production","id":1389626,"job":"Location Manager","name":"Douglas Dresser","profile_path":null},{"credit_id":"5475bd6b925141017d000192","department":"Directing","id":58809,"job":"Script Supervisor","name":"Martin Kitrosser","profile_path":null},{"credit_id":"5475bd8192514144d5002c0a","department":"Directing","id":1389627,"job":"Script Supervisor","name":"Sherrie Liu","profile_path":null},{"credit_id":"5475bd9892514144d5002c11","department":"Directing","id":1389628,"job":"Script Supervisor","name":"Liu Yi Jun","profile_path":null},{"credit_id":"5475bdd692514144d5002c29","department":"Production","id":1389629,"job":"Location Manager","name":"Akira Morii","profile_path":null},{"credit_id":"553448a2c3a3680bdc000c87","department":"Visual Effects","id":107668,"job":"Animation Director","name":"Katsuhito Ishii","profile_path":null},{"credit_id":"553448abc3a3682226006602","department":"Visual Effects","id":1456816,"job":"Animation","name":"Eiji Ishimoto","profile_path":null},{"credit_id":"553448b69251417ae300410b","department":"Visual Effects","id":1456817,"job":"Animation","name":"Toshio Ishizaki","profile_path":null},{"credit_id":"553448c19251416f880013c4","department":"Visual Effects","id":1261622,"job":"Animation","name":"Mitsuo Iso","profile_path":null},{"credit_id":"553448cd9251416f880013c6","department":"Visual Effects","id":56341,"job":"Animation","name":"Mahiro Maeda","profile_path":"/zPrcoSODTg2t28EDaMR8VbdJIMA.jpg"},{"credit_id":"553448d6c3a3682dc2000e1d","department":"Visual Effects","id":1456818,"job":"Animation","name":"Yasunori Miyazawa","profile_path":null},{"credit_id":"553448e1c3a3680bdc000c90","department":"Visual Effects","id":1456819,"job":"Animation Manager","name":"Yutaka Sakamoto","profile_path":null},{"credit_id":"553448eb92514125dc002607","department":"Visual Effects","id":1456820,"job":"Animation","name":"Keiichi Sasajima","profile_path":null},{"credit_id":"553448f5c3a368523e00259b","department":"Art","id":235120,"job":"Art Department Manager","name":"Shou Tajima","profile_path":null},{"credit_id":"55344954925141388b000186","department":"Visual Effects","id":1456821,"job":"Animation","name":"Hideki Takahashi","profile_path":null},{"credit_id":"5534495fc3a36834430001ad","department":"Visual Effects","id":71432,"job":"Animation","name":"Junichi Uematsu","profile_path":null},{"credit_id":"55344969925141388b00018e","department":"Visual Effects","id":1456822,"job":"Animation","name":"Takaaki Yamashita","profile_path":null},{"credit_id":"55344973c3a3680bdc000caa","department":"Visual Effects","id":1456632,"job":"Animation","name":"Shin'ya Ôhira","profile_path":null},{"credit_id":"556a3b52c3a36854890021db","department":"Production","id":3685,"job":"Associate Producer","name":"Koko Maeda","profile_path":null},{"credit_id":"556a3b9992514173f5001f24","department":"Production","id":1472261,"job":"Associate Producer","name":"Dede Nickerson","profile_path":null},{"credit_id":"556a3bb9c3a368762c0024d2","department":"Production","id":54250,"job":"Associate Producer","name":"Kwame Parker","profile_path":null},{"credit_id":"556a3bc5c3a36876980022ee","department":"Production","id":16849,"job":"Executive Producer","name":"Erica Steinberg","profile_path":null},{"credit_id":"556a3bcf9251416b04002389","department":"Production","id":54252,"job":"Executive Producer","name":"E. Bennett Walsh","profile_path":null},{"credit_id":"556a3bdc9251416b0a00264c","department":"Production","id":1307,"job":"Executive Producer","name":"Bob Weinstein","profile_path":"/oe5Oxp034UOubnvZqqhurp6a1EP.jpg"},{"credit_id":"556a3be892514174a8002131","department":"Production","id":59839,"job":"Executive Producer","name":"Harvey Weinstein","profile_path":"/k4UCnh7n0r5CEjq30gAl6QCfF9g.jpg"},{"credit_id":"556a3c01c3a368774e00236d","department":"Sound","id":150,"job":"Original Music Composer","name":"RZA","profile_path":"/v5bwcyzUWVqjmczWu4PrdwnL6t6.jpg"},{"credit_id":"56a3cc0d9251411e150023ed","department":"Writing","id":139,"job":"Characters","name":"Uma Thurman","profile_path":"/ehbw2Qwxp2o0BVAZtJZ3yHZ1jNn.jpg"},{"credit_id":"56a3cc1b925141720b003706","department":"Writing","id":138,"job":"Characters","name":"Quentin Tarantino","profile_path":"/6grjDWpEIPL5QdRbUZFxVEp5TCd.jpg"},{"credit_id":"56a515f6c3a368388e0078b3","department":"Production","id":235121,"job":"Producer","name":"Katsuji Morishita","profile_path":null},{"credit_id":"56a5164692514144ba006dcf","department":"Production","id":12183,"job":"Executive Producer","name":"Mitsuhisa Ishikawa","profile_path":null},{"credit_id":"56a5172cc3a368389e00750e","department":"Crew","id":39012,"job":"Thanks","name":"Peter Bogdanovich","profile_path":"/ubMpZdWC5HYk26Ot1zJ27DOZQhT.jpg"},{"credit_id":"56a517709251410c080054d2","department":"Crew","id":2294,"job":"Thanks","name":"Robert Rodriguez","profile_path":"/wraXPKtHIAuCEeO5i0ACNBL9RcN.jpg"},{"credit_id":"56d4e5c9c3a3681e36015634","department":"Crew","id":22054,"job":"Utility Stunts","name":"Ken Lesco","profile_path":null},{"credit_id":"56e063bb925141654400041b","department":"Costume & Make-Up","id":1407721,"job":"Wigmaker","name":"Victoria Wood","profile_path":null},{"credit_id":"56e0680cc3a368748e004777",
    "department":"Sound","id":13166,"job":"Sound Effects Editor","name":"Dino Dimuro","profile_path":null}]}"
    */
    var globalInfo = {
        currentPage: 0,
        totalPages:0,
        year:"2000",
        keywords: "",
        currentList:[],

    };
    function initialize()
    {
        theMovieDb.common.api_key = "6a9bba7bdeeb79d5822a644e229d7dd0";
        theMovieDb.common.base_uri = "https://api.themoviedb.org/3/";
        theMovieDb.common.images_uri = "https://image.tmdb.org/t/p/";
        theMovieDb.discover.getMovies({ "year": globalInfo.year }, successCB, errorCB);
   
        


    }

    function successCB(data) {

        console.log("Success callback: " + data);
        data = JSON.parse(data);
        if (data.hasOwnProperty("results") && data.results.length > 0)
        {
            LAY.level("/MoviesList/Movie").rowsCommit(data.results);
            
            LAY.level("/").data("totalMoviesFound", data.total_results);
            LAY.level("/").data("totalPages", data.total_pages);
            LAY.level("/").data("currentPage", data.page);
            globalInfo.currentList = data.results;
            globalInfo.currentPage = data.page;
            globalInfo.totalPages = data.total_pages;


        }
    };

    function errorCB(data) {
        console.log("Error callback: " + data);
    };

    LAY.run({
        $load: function () {
            initialize();
            //LAY.level("/Movies").rowsCommit(list.results);
        },
        props: {
            //backgroundColor: LAY.rgba(200, 200, 100, 1),
        },
        "data": {

            reviews: false,
            selectedMovieId: 0,
            selectedMovie: [],
            currentPage: 0,
            totalPages: 0,
            inputPlaceholder:""

        },

        "Header": {
            props: {
                backgroundColor: LAY.rgba(100, 100, 100, 1),
                height: LAY.take("/", "height").divide(5),
                textColor: LAY.rgba(240, 240, 240, 1.15),
                text: "TheMovieDB - Movies, Reviews and stuff!",
                textFamily: "Verdana, Geneva, sans-serif",
                textSize: LAY.take("/", "height").divide(15),
                centerX: 0,
                width: LAY.take("/", "width"),
                textAlign: "center"
                },
            },
        "Nav": {
            props: {
                top: LAY.take("/Header", "height"),
                height: LAY.take("/", "height").divide(10),
                textWeight: "bold",
                textDecoration: "underline",
                textColor: LAY.color("blue"),
               
            },
            "prev": {

                props:{
                   
                    left:40,
                    text: LAY.take("Goto Previous Page [%s]/[%s]").format(LAY.take("/","data.currentPage").minus(1) , LAY.take("/","data.totalPages")),
                    cursor: "pointer",
                    
                },
                when: {
                    click: function prev() {
                        //console.log("prev button clicked");
                        console.log("prev button clicked -current is:" +  globalInfo.currentPage + "and totalpages are" +  globalInfo.totalPages);
                        if (globalInfo.currentPage > 1)
                            theMovieDb.discover.getMovies({ "year": globalInfo.year, "page": globalInfo.currentPage - 1 }, successCB, errorCB);
                        


                    }
                }

            },
            "search": {
                props: {
                    centerX: 0,
                    backgroundColor: LAY.rgba(0, 0, 0, 0.003),
                },
                "searchYear":{
                    $type: "input:line",
                    props: {                       
                        
                        width: 100,                  
                        textPadding: 10,
                        textLineHeight: 1,
                        inputPlaceholder: 'Which year?',
                        focus: true,
                        //left: LAY.take("../next", "width").add(350),
                        text: "List movies from year..",
                        border: { style: 'solid', width: 1, color: LAY.hex(0x999999) },
                        boxShadows: [
                          {
                              inset: true, x: 0, y: -1, blur: 5,
                              color: LAY.rgba(0, 0, 0, 0.2)
                          }

                        ],
                        //cursor: "pointer",

                    },
                    when: {
                        keyup: function (e)
                        {
                            var val = this.attr('$input').trim();
                            console.log("keyup-" + val);
                            if(val.length >3 && !isNaN(val))
                            {
                                globalInfo.year = val;
                                theMovieDb.discover.getMovies({ "year": globalInfo.year }, successCB, errorCB);
                            }

                            
                        } 

                    },

                },
            
                "searchActor": {
                    $type: "input:line",
                    props: {
                   
                        left: LAY.take("../searchYear", "right").add(5),
                        backgroundColor: LAY.rgba(0, 0, 0, 0.003),
                        width: 200,
                        textPadding: 10,
                        textLineHeight: 1,
                        inputPlaceholder: "What actor's movies?",
                        input: LAY.take("/", "data.inputPlaceholder"),
                        focus: true,
                        //left: LAY.take("../next", "width").add(350),
                        //text: "List movies from year..",
                        //value:"Hello there",
                        border: { style: 'solid', width: 1, color: LAY.hex(0x999999) },
                        boxShadows: [
                          {
                              inset: true, x: 0, y: -1, blur: 5,
                              color: LAY.rgba(0, 0, 0, 0.2)
                          }

                        ],
                        //cursor: "pointer",

                    },
                    when: {
                        keyup: function (e) 
                        {
                            if (e.keyCode === 13)
                            { //enter
                                
                                var val = this.attr('$input').trim();
                                globalInfo.keywords = val;
                                console.log("Enter pressed.." + val);
                                //theMovieDb.discover.getMovies({ "with_keywords": globalInfo.keywords, }, successCB, errorCB);
                                theMovieDb.search.getPerson({ "query": val },
                                    function (data) {
                                        var actors = JSON.parse(data);
                                        if(actors.results.length > 0)
                                        {
                                            console.log("selecting first actor from list..." + JSON.stringify(actors.results));
                                            theMovieDb.discover.getMovies({ "with_people": actors.results[0].id }, successCB, errorCB);
                                            LAY.level("/").data("inputPlaceholder", actors.results[0].name);

                                        }
                                    },
                                    function (e) {
                                        console.log("error in getting people" + e);
                                    })
                            }


                        }

                    },

                },
            },
            "next": {
                props:{
                    
                    left: LAY.take("/Header","width").minus(250),
                    text: LAY.take("Goto Next Page [%s]/[%s]").format(LAY.take("/", "data.currentPage").add(1), LAY.take("/", "data.totalPages")),
                    cursor: "pointer",
                   
                },
                when: {
                    click: function nxt() {
                                                       
                        console.log("next button clicked -current is:" +  globalInfo.currentPage + "and totalpages are" +  globalInfo.totalPages);
                        if (globalInfo.currentPage < globalInfo.totalPages)
                            theMovieDb.discover.getMovies({ "year": globalInfo.year, "page": globalInfo.currentPage + 1 }, successCB, errorCB);
                        
                    }
                }
            }
               
               

            },
      
        
        "MoviesList": {
            props: {
                top: LAY.take("../Nav", "bottom"),//.add(LAY.take("/Nav", "height")),
            },

                "Movie": {
                    props: {
                        //$id: LAY.take("", "row.id"),
                      
                        
                        left:20,
                        width: LAY.take("/", "width").divide(3).minus(4),
                        height: LAY.take("/", "height").divide(2),
                        textColor: LAY.color("black"),
                        textFamily: LAY.take("/", "textFamily"),
                        textSize: LAY.take("/", "textSize"),
                        textWordWrap:"break-word",
                        backgroundColor: LAY.color("gainsboro"),
                        //border: {style:"hidden", width:1}
                   
                    },
                    "poster": {
                        props: {
            
                            $type: "image",
                            image: LAY.take("%s/w154%s").format(theMovieDb.common.images_uri, LAY.take("../", "row.poster_path")),
                            //right: 450,
                            //bottom:300,
                            //width: LAY.take("/Contents", "width").divide(2),
                            height: LAY.take("../", "height"),
                            width: LAY.take("../", "height").multiply(2).divide(3),
                            
                       
                        }

                    },

                    "id": {
                        props: {
                            left: LAY.take("../poster", "right").add(10),
                            text: LAY.take("../", "row.id"),
                            top: 0
                            //visible:false
                            //width: LAY.take("/Movies/Contents", "width").divide(6),
                        }
                    },

                    "title": {
                        props: {
                            left: LAY.take("../poster", "right").add(10),
                            top: LAY.take("../id", "bottom").add(10),
                            text: LAY.take("Title: %s").format(LAY.take("../", "row.title")),
                            //link: LAY.take("%s/w300%s").format(theMovieDb.common.images_uri, LAY.take("../", "row.backdrop_path"))
                            //width: LAY.take("/Movies/Contents", "width").divide(6),
                        }
                    },
                
                    "vote_average": {
                        props: {
                            left: LAY.take("../poster", "right").add(10),
                            top: LAY.take("../title", "bottom").add(10),
                            text: LAY.take("Avg.Rating: %s").format(LAY.take("../", "row.vote_average")),
                            //width: LAY.take("/Movies/Contents", "width").divide(6),
                        }
                    },

                    "vote_count": {
                        props: {
                            left: LAY.take("../poster", "right").add(10),
                            top: LAY.take("../vote_average", "bottom").add(10),
                            text: LAY.take("Vote Count: %s").format(LAY.take("../", "row.vote_count")),
                            //width: LAY.take("/Movies/Contents", "width").divide(6),
                        }
                    },

                    "description": {
                        props: {
                            left: LAY.take("../poster", "right").add(10),
                            top: LAY.take("../vote_count", "bottom").add(10),
                            textWordWrap: "break-word",
                            textWrap: "pre-wrap",
                            width: LAY.take("../", "width").minus(LAY.take("../poster", "width")),
                            text: LAY.take("Overview: %s").format(LAY.take("../", "row.overview")),
                            cursor: "pointer",
                            textColor: LAY.color("blue"),
                            //width: LAY.take("/Movies/Contents", "width").divide(6),
                        },
                    
                    when:{
                        click:function gotoReviews()
                        {
                            movieId = this.level("../id").attr("text")
                            console.log("Review clicked.." + movieId);
                            
                            LAY.level("/").data("reviews", true);
                            LAY.level("/").data("selectedMovieId", movieId);
                            var selectedMovie = globalInfo.currentList.find(function (movie) {
                                // console.log("List item - " + JSON.stringify(movie));
                                return movie.id === movieId
                            })
                            console.log("selected movie is: " + JSON.stringify(selectedMovie));//["title"]);
                            //var selected = LAY.level("/Content/DataGridX/Books").queryRows();
                            theMovieDb.movies.getCredits({ "id": movieId }, function success(credits) {
                                var casting = JSON.parse(credits);
                                console.log(casting);
                                window.scrollTo(0, 0);
                                LAY.level("/Reviews/heading").rowAdd(selectedMovie);
                                
                                LAY.level("/Reviews/casting/cast").rowsCommit(casting.cast);
                                //LAY.level("/Reviews/crew").rowsCommit(casting.crew);
                            },
                            function err(d) { console.log("error getCredits- " + d); })

                            theMovieDb.movies.getReviews({ "id": movieId }, function success(dt) {
                                var reviews = JSON.parse(dt);
                                console.log("reviews -> " + JSON.stringify(reviews));
                                LAY.level("/Reviews").rowsCommit(reviews.results);
                            },
                            function err(d) { console.log("error in getReviews - " + d); })

                        }
                        
                    },},
                    states: {
                        "shown": {
                            onlyif: LAY.take("/", "data.reviews").not(),
                            props: {
                                //top:LAY.take("/", "height").add(100)
                                visible: true,
                                display:true
                            }
                        },
                        "hidden": {
                            onlyif: LAY.take("/", "data.reviews"),
                            props: {
                                //top:LAY.take("/", "height").add(100)
                                visible: false,
                                display:false
                            }
                        }
                    },
                    many: {
                       
                        formation: "grid",
                        fargs: {
                            vertical:{gaps:2},
                            grid: {
                                hgap: 3,
                                vgap: 3,
                                columns: 3
                            }
                        }
                    },
                },
            },
       
            "Reviews": {
                props: {
                    //centerX:0,

                    textColor: LAY.color("black"),
                    textFamily: LAY.take("/", "textFamily"),
                    textSize: LAY.take("/", "textSize"),
                    // textWordWrap:"break-word",
                    backgroundColor: LAY.color("gainsboro"),
                    
                    top: LAY.take("../Header", "bottom"),
                    //left: 5,
                    width: LAY.take("/", "width"),
                    height: LAY.take("/", "height"),
                },
                /*
                data: {
                    checkVisible: LAY.take(function( isVisible )
                    {
                            if (isVisible) {
                                console.log(LAY.take("Reviews became visible..for selected movie..:%s").format(LAY.take("", "data.selectedMovie")));

                               
                                //LAY.level("/Reviews/heading").
                            }
                    }).fn(LAY.take("", "visible"))
        
                    },

                    */
         
                "heading": {
                    props: {
                        //centerX: 0,
                        width: LAY.take("/", "width").divide(2)

                    },
                    "title": {
                        props: {
                            centerX:0,
                            textSize:35,
                            text: LAY.take("%s (%s)").format(LAY.take("../", "row.title"), LAY.take("../", "row.release_date")),
                         }
                    },
                    "goback": {
                        props: {
                            left: LAY.take("../title", "right").add(50),
                            text: "<< Go Back to the list <<",
                            top:15,
                            textColor: LAY.color("blue"),
                            cursor: "pointer"
                        },
                        when: {

                            click: function gobackandclear() {
                                LAY.level("/").data("reviews", false);
                                LAY.level("/Reviews/heading").rowsCommit([]);
                                LAY.level("/Reviews/casting/cast").rowsCommit([]);
                                LAY.level("/Reviews").rowsCommit([]);

                            }

                        },

                    },
                        "mainpicture": {
                            props: {

                                $type: "image",
                                image: LAY.take("%s/w300/%s").format(theMovieDb.common.images_uri, LAY.take("../", "row.poster_path")),
                                //text: LAY.take("../", "row.release_date"),
                                top: 50,
                                left:10,

                               // height: 450,
                                //width:300,
                                //width: LAY.take("/Contents", "width").divide(2),
                                height: LAY.take("../../", "height").minus(LAY.take("../title", "height")),
                                width: LAY.take("../mainpicture", "height").multiply(2).divide(3),


                            }

                        },
                        "backdrop":{
                            props: {

                                $type: "image",
                                image: LAY.take("%s/w300/%s").format(theMovieDb.common.images_uri, LAY.take("../", "row.backdrop_path")),
                                //text: LAY.take("../", "row.release_date"),
                                top: 50,
                                left: LAY.take("../mainpicture", "right"),

                                // height: 450,
                                //width:300,
                                width: LAY.take("../", "width").minus(LAY.take("../mainpicture", "width")),
                                height: LAY.take("../backdrop", "width").multiply(169).divide(300)
                                //width: LAY.take("../backdrop", "height").multiply(300).divide(169),


                            }

                       
                   

                    },
                    "overview": {
                        props:{
                            left: LAY.take("../mainpicture", "right").add(5),
                            top: LAY.take("../backdrop", "bottom").add(10),
                            textWordWrap: "break-word",
                            textWrap: "pre-wrap",
                            width: LAY.take("../backdrop", "width"),
                            text: LAY.take("Overview: %s").format(LAY.take("../", "row.overview")),
                        }

    
                    },

                    many: {
                        formation: "vertical",
                        fargs: { vertical: { gaps: 2 } }
                    },
                },

                "casting": {
                    props:{
                        top: LAY.take("/Reviews", "height").add(50),
                    },
                    "cast": {
                        props: {
                            
                            width: 500,
                            //centerX: 0,
                            //text:"Cast"


                        },

                        "picture": {
                            props: {
                                left: 10,//LAY.take("/", "width").divide(2).add(50),
                                $type: "image",
                                image: LAY.take("%s/w300/%s").format(theMovieDb.common.images_uri, LAY.take("../", "row.profile_path")),
                                height: 75,
                                width: 50
                            }
                        },
                        "actor": {
                            props: {
                                text: LAY.take("../", "row.name"),
                                left: LAY.take("../picture", "right").add(10),
                                textColor: LAY.color("blue"),
                                cursor:"pointer"
                            },
                            when: {
                                click: function () {
                                    { //enter

                                        var val = this.attr("text");
                                        globalInfo.keywords = val;
                                        console.log("Actor clicked.." + val);
                                        //theMovieDb.discover.getMovies({ "with_keywords": globalInfo.keywords, }, successCB, errorCB);
                                        theMovieDb.search.getPerson({ "query": val },
                                            function (data) {
                                                var actors = JSON.parse(data);
                                                if (actors.results.length > 0) {
                                                    console.log("selecting first actor from list..." + JSON.stringify(actors.results));
                                                    theMovieDb.discover.getMovies({ "with_people": actors.results[0].id }, successCB, errorCB);
                                                    LAY.level("/").data("inputPlaceholder", actors.results[0].name);
                                                    
                                                        LAY.level("/").data("reviews", false);
                                                        LAY.level("/Reviews/heading").rowsCommit([]);
                                                        LAY.level("/Reviews/casting/cast").rowsCommit([]);
                                                        LAY.level("/Reviews").rowsCommit([]);

                                                    
                                                }
                                            },
                                            function (e) {
                                                console.log("error in getting people" + e);
                                            })
                                    }
                                }
                            },
                        },
                            "character": {
                                props: {
                                    left: LAY.take("../actor", "right").add(10),
                                    text: LAY.take("AS [%s]").format(LAY.take("../", "row.character")),
                                }
                            },
                        


                        many: {
                            formation: "grid",
                            fargs: {
                                vertical: { gaps: 2 },
                                grid: {
                                    hgap: 3,
                                    vgap: 3,
                                    columns: 3
                                }
                            },

                        },

                    },
                    
                    
                },
                
                "review": {
                    props: {
                        top: LAY.take("../casting", "bottom").add(20),
                        width: LAY.take("/", "width"),
                        height:500,
                        centerX: 0,
                        text:"Reviews Section."


                    },
                    
                    "details": {
                        props: {
                           // text:LAY.take("Review By: [%s] Review: => [%s]..#end#").format(LAY.take("../", "row.author"), LAY.take("../", "row.ontnet")),
                            //left: LAY.take("../picture", "right").add(10),
                        }
                    },


                    many: {
                        formation: "vertical",
                        fargs: { vertical: { gaps: 2 } }
                    },

                    


                },
               
         
            states: {
                "shown": {
                    onlyif: LAY.take("/", "data.reviews").not(),
                    props: {
                        //top:LAY.take("/", "height").add(100)
                        visible: false,
                        display:false
                    }
                },
                "hidden": {
                    onlyif: LAY.take("/", "data.reviews"),
                    props: {
                        //top:LAY.take("/", "height").add(100)
                        visible: true,
                        display:true
                    }
                }
            },


        },
        
           
            
           
           
        
    })
</script>
</html>